<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Engineer's Guide to Network Protocols | Bigyan Pokharel</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&amp;display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #007bff;
            --bg: #0f172a; 
            --card-bg: #1e293b;
            --text-main: #f8fafc;
            --text-dim: #cbd5e1;
            --radius: 16px;
            --code-bg: #000000;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            line-height: 1.8;
            margin: 0;
            padding: 0;
        }

        .container { max-width: 800px; margin: 0 auto; padding: 4rem 2rem; }
        
        header { margin-bottom: 3rem; }
        .back-link { text-decoration: none; color: var(--primary); font-weight: 600; display: inline-block; margin-bottom: 1rem; }
        
        h1 { font-size: 2.5rem; line-height: 1.2; margin-bottom: 1rem; }
        .meta { color: var(--text-dim); font-size: 0.9rem; margin-bottom: 2rem; }

        article { background: var(--card-bg); padding: 3rem; border-radius: var(--radius); border: 1px solid rgba(255,255,255,0.05); }
        
        h2 { color: var(--primary); margin-top: 2.5rem; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 8px; }
        h3 { color: var(--text-main); margin-top: 1.5rem; font-size: 1.3rem; }
        p { margin-bottom: 1.5rem; }

        pre {
            background: var(--code-bg);
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            border: 1px solid rgba(255,255,255,0.1);
            color: #f8fafc;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            margin: 1.5rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td { padding: 15px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1); }
        th { background: var(--primary); color: white; }

        .conclusion {
            background: rgba(32, 201, 151, 0.1);
            border-left: 4px solid #20c997;
            padding: 1.5rem;
            margin-top: 2rem;
            border-radius: 4px;
        }

        footer { text-align: center; padding: 4rem 0; color: var(--text-dim); }

        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            article { padding: 1.5rem; }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <a href="/blog" class="back-link">← Back to Blog</a>
            <h1>The Engineer's Guide to Network Protocols: SMB, FTP, FTPS &amp; SFTP</h1>
            <div class="meta">Published on Jan 16, 2026 • 15 min read • Full Stack Development</div>
        </header>

        <article>
            <p>Moving files between systems is one of the oldest tasks in computing, yet it remains one of the most misunderstood. Whether you are building a React frontend that needs to fetch assets or a Node.js backend managing automated backups, choosing the right protocol is a balance between speed, security, and network compatibility.</p>

            <h2>Deep Dive: Understanding the Protocols</h2>

            <h3>SMB (Server Message Block)</h3>
            <p>SMB is a <strong>Network File System</strong> protocol. Unlike the others, it isn't just for transferring files; it allows you to mount a remote folder as if it were a local drive. 
            </p><ul>
                <li><strong>Pros:</strong> High performance on LAN; supports file locking (multiple people can't edit the same file simultaneously).</li>
                <li><strong>Cons:</strong> Extremely "chatty" (sends many small packets), making it slow on high-latency internet connections.</li>
            </ul><p></p>

            <h3>SFTP (SSH File Transfer Protocol)</h3>
            <p>SFTP is built on top of the <strong>Secure Shell (SSH)</strong> protocol. It is the modern gold standard for remote work. Because it tunnels everything through a single port (typically 22), it is highly secure and easy to manage through firewalls.</p>

            

            <h2>Why FTPS?</h2>
            <p>You might wonder: if SFTP is so great, why does FTPS even exist? <strong>FTPS (FTP over SSL/TLS)</strong> is essentially "Standard FTP wearing a seatbelt." It adds a layer of encryption using the same SSL/TLS certificates that secure the web (HTTPS).</p>
            
            <p>Here is why an engineer would choose FTPS:</p>
            <ul>
                <li><strong>Compliance:</strong> Many legacy enterprise systems and banking mainframes are built strictly on FTP architectures. FTPS allows these systems to meet security compliance without a total rewrite.</li>
                <li><strong>Certificate-Based Trust:</strong> FTPS allows the use of X.509 certificates, enabling a centralized trust model that some corporate IT departments prefer over SSH keys.</li>
                <li><strong>Hardware Acceleration:</strong> Some network hardware is specifically optimized to inspect and accelerate SSL/TLS traffic, giving FTPS an edge in specific high-bandwidth internal environments.</li>
            </ul>

            <h2>Step-by-Step: Setting up FTPS on Windows</h2>
            <p>To host your own secure server using Windows IIS, follow these architectural steps:</p>
            
            <ol>
                <li><strong>Install IIS FTP:</strong> Enable "FTP Service" and "FTP Extensibility" under <em>Windows Features</em>.</li>
                <li><strong>Create a Certificate:</strong> Open IIS Manager, navigate to <em>Server Certificates</em>, and create a <strong>Self-Signed Certificate</strong>. This provides the "S" in FTPS.</li>
                <li><strong>Configure the Site:</strong> Add a new FTP site, bind it to your IP (e.g., <code>192.168.100.11</code>), and select <strong>Require SSL</strong> using your new certificate.</li>
                <li><strong>Firewall Rules:</strong> You must allow Port 21 and your Passive Data Range (e.g., 5000-5100) in the Windows Advanced Firewall.</li>
            </ol>

            

            <h2>Automating Transfers with Node.js</h2>
            <p>As developers, we rarely move files manually. We automate. To connect to an <strong>SFTP</strong> server using Node.js, we use the <code>ssh2-sftp-client</code> library. This is far more professional than using standard FTP libraries.</p>

<pre>const Client = require('ssh2-sftp-client');
const sftp = new Client();

async function uploadLogs() {
    try {
        await sftp.connect({
            host: '192.168.100.11',
            port: 22,
            username: 'pokha',
            password: 'your-password'
        });

        console.log("Connected to Server...");
        await sftp.put('./local-logs.txt', '/remote/path/logs.txt');
        console.log("Upload Complete.");

    } catch (err) {
        console.error("SFTP Error:", err.message);
    } finally {
        await sftp.end();
    }
}

uploadLogs();
</pre>

            <h2>Protocol Comparison Matrix</h2>
            <table>
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>SMB</th>
                        <th>SFTP</th>
                        <th>FTPS</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Primary Goal</strong></td>
                        <td>LAN Sharing</td>
                        <td>Remote Management</td>
                        <td>Legacy Security</td>
                    </tr>
                    <tr>
                        <td><strong>Firewall Ports</strong></td>
                        <td>445</td>
                        <td>22 (Single)</td>
                        <td>21 + Passive Range</td>
                    </tr>
                    <tr>
                        <td><strong>Encryption</strong></td>
                        <td>Optional (v3+)</td>
                        <td>Native (SSH)</td>
                        <td>Native (TLS/SSL)</td>
                    </tr>
                </tbody>
            </table>

            <div class="conclusion">
                <strong>Bigyan's Recommendation:</strong> While FTPS is a solid choice for legacy enterprise systems, <strong>SFTP</strong> remains the modern standard for general web development and <strong>Node.js</strong> automation due to its firewall-friendly single-port architecture.
            </div>
        </article>

        <footer>
            <p>© 2026 Bigyan Pokharel. Engineering better systems.</p>
        </footer>
    </div>


</body></html>
